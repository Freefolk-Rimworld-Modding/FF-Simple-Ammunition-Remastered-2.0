<?xml version="1.0" encoding="utf-8"?>
<Patch>

<!-- Ballista -->

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_Ballista"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter/thingDefs</xpath>
    <value>
      <thingDefs>
	    <li>FF_Ammunition_Primitive</li>
	  </thingDefs>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_Ballista"]/comps/li[@Class="CompProperties_Refuelable"]/fuelConsumptionRate</xpath>
    <value>
      <fuelConsumptionRate>5</fuelConsumptionRate>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_Ballista"]/comps/li[@Class="CompProperties_Refuelable"]/fuelCapacity</xpath>
    <value>
      <fuelCapacity>50</fuelCapacity>
    </value>
  </Operation>

<!-- Military Turret -->

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_MilitaryTurret"]/description</xpath>
    <value>
      <description>A military-grade double barreled automatic turret. Requires industrial ammo to reload. May explode when damaged. Its dumb AI brain can't be directly controlled, so beware of friendly fire.</description>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_MilitaryTurret"]/comps/li[@Class="CompProperties_Refuelable"]/fuelLabel</xpath>
    <value>
      <fuelLabel>Shots until out of ammo</fuelLabel>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_MilitaryTurret"]/comps/li[@Class="CompProperties_Refuelable"]/fuelGizmoLabel</xpath>
    <value>
      <fuelGizmoLabel>Ammo</fuelGizmoLabel>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_MilitaryTurret"]/comps/li[@Class="CompProperties_Refuelable"]/outOfFuelMessage</xpath>
    <value>
      <outOfFuelMessage>Cannot shoot: Out of ammo</outOfFuelMessage>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_MilitaryTurret"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter/thingDefs</xpath>
    <value>
      <thingDefs>
	    <li>FF_Ammunition_Industrial</li>
	  </thingDefs>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_MilitaryTurret"]/comps/li[@Class="CompProperties_Refuelable"]/fuelMultiplier</xpath>
    <value>
      <fuelMultiplier>1</fuelMultiplier>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_MilitaryTurret"]/comps/li[@Class="CompProperties_Refuelable"]/fuelCapacity</xpath>
    <value>
      <fuelCapacity>120</fuelCapacity>
    </value>
  </Operation>

<!-- Sentry Turret -->

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_SentryGun"]/comps/li[@Class="CompProperties_Refuelable"]/fuelLabel</xpath>
    <value>
      <fuelLabel>Shots until out of ammo</fuelLabel>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_SentryGun"]/comps/li[@Class="CompProperties_Refuelable"]/fuelGizmoLabel</xpath>
    <value>
      <fuelGizmoLabel>Ammo</fuelGizmoLabel>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_SentryGun"]/comps/li[@Class="CompProperties_Refuelable"]/outOfFuelMessage</xpath>
    <value>
      <outOfFuelMessage>Cannot shoot: Out of ammo</outOfFuelMessage>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_SentryGun"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter/thingDefs</xpath>
    <value>
      <thingDefs>
	    <li>FF_Ammunition_Industrial</li>
	  </thingDefs>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_SentryGun"]/comps/li[@Class="CompProperties_Refuelable"]/fuelMultiplier</xpath>
    <value>
      <fuelMultiplier>1</fuelMultiplier>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_SentryGun"]/comps/li[@Class="CompProperties_Refuelable"]/fuelCapacity</xpath>
    <value>
      <fuelCapacity>120</fuelCapacity>
    </value>
  </Operation>

<!-- Floor Turret -->

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_FloorTurret"]/description</xpath>
    <value>
      <description>A submersible military-grade double barreled automatic turret which acts as a normal floor tile when unpowered. It only takes half as much damage when submerged. Requires industrial ammo to reload. May explode when damaged. Its dumb AI brain can't be directly controlled, so beware of friendly fire.</description>
    </value>
  </Operation>

<!-- Double Autocannon Turret -->

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_AutocannonDouble"]/description</xpath>
    <value>
      <description>A heavy automatic turret enhanced with 2 barrels. Its large-caliber shells do heavy damage over significant ranges, but it must be rearmed after use. It cannot fire at close-up targets, and may explode when damaged.</description>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_AutocannonDouble"]/comps/li[@Class="CompProperties_Refuelable"]/fuelLabel</xpath>
    <value>
      <fuelLabel>Shots until out of ammo</fuelLabel>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_AutocannonDouble"]/comps/li[@Class="CompProperties_Refuelable"]/fuelGizmoLabel</xpath>
    <value>
      <fuelGizmoLabel>Ammo</fuelGizmoLabel>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_AutocannonDouble"]/comps/li[@Class="CompProperties_Refuelable"]/outOfFuelMessage</xpath>
    <value>
      <outOfFuelMessage>Cannot shoot: Out of ammo</outOfFuelMessage>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_AutocannonDouble"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter/thingDefs</xpath>
    <value>
      <thingDefs>
	    <li>FF_Ammunition_Industrial</li>
	  </thingDefs>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_AutocannonDouble"]/comps/li[@Class="CompProperties_Refuelable"]/fuelMultiplier</xpath>
    <value>
      <fuelMultiplier>0.5</fuelMultiplier>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_AutocannonDouble"]/comps/li[@Class="CompProperties_Refuelable"]/fuelCapacity</xpath>
    <value>
      <fuelCapacity>120</fuelCapacity>
    </value>
  </Operation>

<!-- Charge Turret -->

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_ChargeTurret"]/description</xpath>
    <value>
      <description>An automatic turret with a charge pulser gun on top, utilising advanced sensors which offer improved accuracy. Requires charged shot ammo to reload. May explode when damaged.</description>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_ChargeTurret"]/comps/li[@Class="CompProperties_Refuelable"]/fuelLabel</xpath>
    <value>
      <fuelLabel>Shots until out of ammo</fuelLabel>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_ChargeTurret"]/comps/li[@Class="CompProperties_Refuelable"]/fuelGizmoLabel</xpath>
    <value>
      <fuelGizmoLabel>Ammo</fuelGizmoLabel>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_ChargeTurret"]/comps/li[@Class="CompProperties_Refuelable"]/outOfFuelMessage</xpath>
    <value>
      <outOfFuelMessage>Cannot shoot: Out of ammo</outOfFuelMessage>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_ChargeTurret"]/comps/li[@Class="CompProperties_Refuelable"]/fuelFilter/thingDefs</xpath>
    <value>
      <thingDefs>
	    <li>FF_Ammunition_Spacer</li>
	  </thingDefs>
    </value>
  </Operation>

  <Operation Class="PatchOperationReplace">
    <xpath>Defs/ThingDef[defName="VFES_Turret_ChargeTurret"]/comps/li[@Class="CompProperties_Refuelable"]/fuelMultiplier</xpath>
    <value>
      <fuelMultiplier>2</fuelMultiplier>
    </value>
  </Operation>

</Patch>